# ============================================================================
# cursor-runner Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# cp .env.example .env

# ============================================================================
# Server Configuration
# ============================================================================
# Node environment (development, production, test)
NODE_ENV=production

# HTTP server port
PORT=3001

# ============================================================================
# Cursor CLI Configuration
# ============================================================================
# Path to cursor-cli executable (default: 'cursor' - assumes it's in PATH)
CURSOR_CLI_PATH=cursor-agent

# Cursor CLI API key (required for cursor-cli authentication)
CURSOR_API_KEY=key_358e5b382d963e164d2fa96fdf7150acb18e9fb8ce0cca071daf50b0bd1f1965

# Timeout for cursor-cli commands in milliseconds (default: 300000 = 5 minutes)
CURSOR_CLI_TIMEOUT=300000

# Timeout for cursor-cli iterate commands in milliseconds (default: 900000 = 15 minutes)
CURSOR_CLI_ITERATE_TIMEOUT=900000

# Idle timeout for cursor-cli sessions in milliseconds (default: 600000 = 10 minutes)
CURSOR_CLI_IDLE_TIMEOUT=600000

# Maximum output size for cursor-cli commands in bytes (default: 10485760 = 10MB)
CURSOR_CLI_MAX_OUTPUT_SIZE=10485760

# ============================================================================
# Target Application Configuration
# ============================================================================
# Path to target application being developed (e.g., jarek-va Rails app)
# In Docker: /app/target/jarek-va
# Local development: ../jarek-va
TARGET_APP_PATH=/app/target/jarek-va

# Type of target application (rails, node)
TARGET_APP_TYPE=rails

# Timeout for target application commands in milliseconds (default: 600000 = 10 minutes)
TARGET_APP_TIMEOUT=600000

# ============================================================================
# Git Service Configuration
# ============================================================================
# Path to repositories directory (relative to TARGET_APP_PATH)
# In Docker: TARGET_APP_PATH/repositories (e.g., /cursor/repositories if TARGET_APP_PATH=/cursor)
# Local development: TARGET_APP_PATH/repositories
# REPOSITORIES_PATH is now relative to TARGET_APP_PATH (automatically set to TARGET_APP_PATH/repositories)
# REPOSITORIES_PATH=/cursor/repositories

# Timeout for git commands in milliseconds (default: 60000 = 1 minute)
GIT_COMMAND_TIMEOUT=60000

# GitHub Authentication (optional - for private repositories)
# GitHub Personal Access Token (can use GITHUB_TOKEN, GITHUB_PAT, or GIT_TOKEN)
GITHUB_TOKEN=your-github-token-here
# GITHUB_PAT=your-github-pat-here
# GIT_TOKEN=your-git-token-here

# GitHub username (can use GITHUB_USERNAME or GIT_USERNAME)
GITHUB_USERNAME=jarekbird
# GIT_USERNAME=your-git-username

# Git user name and email for commits
GIT_USER_NAME=Jarek Bird
GIT_USER_EMAIL=jarekbird@gmail.com
# GITHUB_EMAIL=your.email@example.com

# Path to SSH key for GitHub authentication (default: ~/.ssh/id_rsa)
GITHUB_SSH_KEY_PATH=/root/.ssh/id_rsa

# Disable git terminal prompts (set to '0' to disable)
GIT_TERMINAL_PROMPT=0

# ============================================================================
# Scripts and Tools Configuration
# ============================================================================
# Path to scripts directory for one-time scripts created by cursor-cli (relative to TARGET_APP_PATH)
# In Docker: TARGET_APP_PATH/scripts (e.g., /cursor/scripts if TARGET_APP_PATH=/cursor)
# Local development: TARGET_APP_PATH/scripts
# SCRIPTS_PATH is now relative to TARGET_APP_PATH (automatically set to TARGET_APP_PATH/scripts)
# SCRIPTS_PATH=/cursor/scripts

# Path to cursor-agents tools directory (relative to TARGET_APP_PATH)
# In Docker: TARGET_APP_PATH/tools/cursor-agents (e.g., /cursor/tools/cursor-agents if TARGET_APP_PATH=/cursor)
# Local development: TARGET_APP_PATH/tools/cursor-agents
# CURSOR_AGENTS_TOOLS_PATH is now relative to TARGET_APP_PATH (automatically set to TARGET_APP_PATH/tools/cursor-agents)
# CURSOR_AGENTS_TOOLS_PATH=/cursor/tools/cursor-agents

# ============================================================================
# Terminal Service Configuration
# ============================================================================
# Timeout for terminal commands in milliseconds (default: 300000 = 5 minutes)
TERMINAL_COMMAND_TIMEOUT=300000

# Maximum output size for terminal commands in bytes (default: 10485760 = 10MB)
TERMINAL_MAX_OUTPUT_SIZE=10485760

# ============================================================================
# jarek-va Communication
# ============================================================================
# URL for jarek-va API
# In Docker: Use service name (http://app:3000) - default
# Local development: http://localhost:3000
# Production: https://your-domain.com
JAREK_VA_URL=http://app:3000

# Webhook secret for callback authentication (optional)
# Used to secure webhook callbacks from cursor-runner to jarek-va
WEBHOOK_SECRET=your-webhook-secret-here

# ============================================================================

# ============================================================================
# ElevenLabs Agent Configuration
# ============================================================================
# Feature flag to enable/disable ElevenLabs agent integration
# When set to 'true', cursor completion callbacks will attempt to send updates to ElevenLabs agent
# When set to 'false' or not set, ElevenLabs agent callbacks will be skipped
# Default: false
ELEVENLABS_AGENT_ENABLED=false

# Redis Configuration
# ============================================================================
# Redis URL for cursor-agents MCP server and conversation service
# In Docker: Use service name (redis://redis:6379/0) - default
# Local development: redis://localhost:6379/0
REDIS_URL=redis://redis:6379/0

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level (error, warn, info, http, verbose, debug, silly)
# Default: info
LOG_LEVEL=info

# Log file path
# In Docker: /app/logs/cursor-runner.log
# Local development: ./logs/cursor-runner.log
LOG_FILE=/app/logs/cursor-runner.log

# ============================================================================
# Gmail MCP Configuration
# ============================================================================
# Gmail OAuth 2.0 Client ID (required for Gmail MCP integration)
# Obtain from: Google Cloud Console → APIs & Services → Credentials
GMAIL_CLIENT_ID=your-gmail-client-id-here

# Gmail OAuth 2.0 Client Secret (required for Gmail MCP integration)
# Obtain from: Google Cloud Console → APIs & Services → Credentials
# SECURITY: Never commit this value to version control
GMAIL_CLIENT_SECRET=your-gmail-client-secret-here

# Gmail OAuth 2.0 Refresh Token (required for Gmail MCP integration)
# Obtain from: OAuth 2.0 Playground or OAuth consent flow
# SECURITY: Never commit this value to version control
GMAIL_REFRESH_TOKEN=your-gmail-refresh-token-here

# Gmail User Email (optional - target Gmail account email)
# If not set, uses the account associated with the refresh token
GMAIL_USER_EMAIL=

# Gmail Allowed Labels (optional - comma-separated list of allowed labels)
# If not set, all labels are accessible (subject to OAuth scope permissions)
# Example: GMAIL_ALLOWED_LABELS=INBOX,SENT,IMPORTANT
GMAIL_ALLOWED_LABELS=
# Gmail MCP Feature Flag (optional - defaults to false)
# Set to true to enable Gmail MCP integration
# ENABLE_GMAIL_MCP=false

DOMAIN_NAME=localhost

