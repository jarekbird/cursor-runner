### Step 14.2: FilesystemService, FileTreeService, WorkspaceTrustService
**Objective**: Test filesystem-related services.

This task has been broken down into granular subtasks:

1. [TASK-14.2.1](./14.2.1.md): Test Permission errors are handled gracefully
2. [TASK-14.2.2](./14.2.2.md): Test Path traversal attempts are rejected
3. [TASK-14.2.3](./14.2.3.md): Test FileTreeService.buildFileTree() handles nested directories

**Note**: Complete all subtasks in order (14.2.1 → 14.2.2 → 14.2.3). Each subtask is independently completable with its own Definition of Done.

**Original Tasks**:
1. Extend existing tests:
   - Add test: Permission errors are handled gracefully
   - Add test: Path traversal attempts are rejected
   - Add test: `FileTreeService.buildFileTree()` handles nested directories
   - Mock `fs` operations to simulate errors

**Tests**:
- Verify error handling
- Verify security
- Verify functionality

**Verification**:
- Tests pass

