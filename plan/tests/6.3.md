### Step 6.3: POST /api/agent/:id/message
**Objective**: Test agent conversation message endpoint.

This task has been broken down into granular subtasks:

1. [TASK-6.3.1](./6.3.1.md): Test POST /api/agent/:id/message returns 400 when role is missing
2. [TASK-6.3.2](./6.3.2.md): Test POST /api/agent/:id/message returns 400 when content is missing
3. [TASK-6.3.3](./6.3.3.md): Test POST /api/agent/:id/message adds message and returns success
4. [TASK-6.3.4](./6.3.4.md): Test POST /api/agent/:id/message sets default source='text' when not provided

**Note**: Complete all subtasks in order (6.3.1 → 6.3.2 → 6.3.3 → 6.3.4). Each subtask is independently completable with its own Definition of Done.

**Original Tasks**:
1. Extend `tests/agent-conversation-api.integration.test.ts`:
   - Add test: `POST /api/agent/:id/message` returns 400 when `role` is missing
   - Add test: `POST /api/agent/:id/message` returns 400 when `content` is missing
   - Add test: `POST /api/agent/:id/message` adds message and returns success
   - Add test: `POST /api/agent/:id/message` sets default `source='text'` when not provided
   - Mock `agentConversationService.addMessage()` and `getConversation()`

**Tests**:
- Verify validation
- Verify message addition
- Verify defaults

**Verification**:
- Tests pass

